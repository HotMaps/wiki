<h2> Inhoudsopgave </h2><ul><li> <a href="#Introduction">Invoering</a> </li><li> <a href="#Dataset-integration">Dataset integratie</a> </li><li> <a href="#add-your-datasets-on-gitlab">Voeg uw datasets toe op GitLab</a> </li><li> <a href="#List-of-main-repositories">Lijst met belangrijkste opslagplaatsen</a> </li><li> <a href="#How-to-contribute-code">Hoe code bij te dragen</a> </li><li> <a href="#Description-of-IT-infrastructure">Beschrijving van IT-infrastructuur</a> <ul><li> <a href="#Run-with-Docker">Ren met Docker</a> </li><li> <a href="#Server-infrastructure">Server infrastructuur</a> <ul><li> <a href="#Infrastructure">Infrastructuur</a> </li><li> <a href="#Performance">Prestatie</a> </li></ul></li></ul></li><li> <a href="#How-to-define-indicators">Hoe indicatoren te definiëren</a> </li><li> <a href="#References">Referenties</a> </li><li> <a href="#How-to-cite">Hoe te citeren</a> </li><li> <a href="#Authors-and-reviewers">Auteurs en recensenten</a> </li><li> <a href="#Acknowledgement">Erkenning</a> </li></ul><h2> Invoering </h2><p> Deze pagina bevat alle informatie die ontwikkelaars nodig hebben om bij te dragen aan het Hotmaps Platform of om te begrijpen hoe het werkt. </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Dataset integratie </h2><p> Integratie van nieuwe openbare datasets wordt als volgt behandeld: </p><ol><li> datasets moeten worden gepusht naar een git repository ( <a href="#Add-your-datasets-on-GitLab">voeg je datasets toe op GitLab</a> ) </li><li> elke nacht integreert een script de nieuwe / bijgewerkte datasets in het DEV-platform </li><li> als alles goed werkte, is de dataset nu beschikbaar op het DEV-platform en kunnen ontwikkelaars deze in hun code integreren </li><li> Nadat de codering is voltooid, worden de nieuwe functies aan het productieplatform toegevoegd via een nieuwe release </li></ol><p><img alt="gegevens integratie" src="images/data-integration-workflow.png"/></p><p> Als een gegevensset mislukt tijdens de integratie, wordt er een probleem gemaakt op Taiga (nl-projectbeheerplatform). Het probleem toont de opgetreden fout en de ontwikkelaar moet het oplossen en zijn werk opnieuw naar Git pushen, zodat het script de volgende avond kan proberen het opnieuw te integreren. </p><p> De broncode van het integratiescript is beschikbaar via deze link: <a href="https://github.com/HotMaps/CI_DatasetIntegration">Data-integratie</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Voeg uw datasets toe op GitLab </h2><p> Om datasets toe te voegen aan de lijst met publieke datasets, moeten ze naar een nieuwe Git-repository op GitLab worden gepusht. Hier is de GitLab-organisatie waar gegevenssets moeten worden gepusht: <a href="https://gitlab.com/hotmaps">gegevenssets op GitLab</a> . </p><p> Een keer per dag worden de repositories gecontroleerd op nieuwe commits en geïntegreerd als dat zo is. Het integratieproces controleert of de gegevens voldoen aan de specificatie of niet. </p><p> Hier is de specificatie: <a href="uploads%5CHotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf">Hotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Lijst met belangrijkste opslagplaatsen </h2><p> De code van de applicatie bevindt zich op GitHub onder de <a href="https://github.com/HotMaps">Hotmaps-organisatie</a> . Deze organisatie bezit verschillende repositories </p><ul><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-client</a> bevat de frontend van onze applicatie. Het is een hoekproject (JavaScript) </li><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-service</a> bevat de API voor onze applicatie. Het is gebaseerd op Flask (Python) </li><li> <a href="https://github.com/HotMaps/hotmaps_wiki">Hotmaps-wiki</a> is de Wiki die je momenteel leest </li><li> <a href="https://github.com/HotMaps/base_calculation_module">base-calculatiemodule</a> is de basissjabloon die u kunt gebruiken om uw eigen berekeningsmodules voor Hotmaps te maken </li><li> een lijst met berekeningsmodules </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Hoe code bij te dragen </h2><p> Als u code aan Hotmaps wilt toevoegen, hebt u twee mogelijkheden: als u de interface of de back-end rechtstreeks wilt bijwerken, moet u de client- of servicepository van de toolbox wijzigen. Als u uw eigen berekeningsmodule wilt toevoegen, kunt u uw eigen repository maken door <a href="https://github.com/HotMaps/base_calculation_module">het leesmij-bestand van de repository base_calculation_module te volgen</a> </p><p> Als je wat werk aan de Git-repository wilt uitvoeren, werk dan niet rechtstreeks met de master branch. Maak een nieuwe branch van de develop branch, doe je werk aan deze branch en wanneer je functie getest is, kun je je werk samenvoegen met de develop branch zoals getoond in de volgende grafiek. </p><p><img alt="git_workflow" src="images/git_workflow.png"/></p><p> Om iets naar een Hotmaps-repository te pushen, moet je lid zijn van het Hotmaps-team, anders kun je nog steeds een vork van onze tool uitvoeren om je eigen tool te ontwikkelen. </p><p> U vindt meer informatie over hoe te werken in deze documenten: </p><ul><li> <a href="uploads/Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf">Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CHotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf">Hotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CGitFlow_Guidelines_CREM_2017-02-01.pdf">GitFlow_Guidelines_CREM_2017-02-01.pdf</a> </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Beschrijving van IT-infrastructuur </h2><p><img alt="ReverseProxy_architecture_latest" src="images/ReverseProxy_architecture_latest.png"/></p><p> Alle services en componenten worden gebruikt via hun eigen Docker-container. Al deze containers worden gedefinieerd in een enkel docker-opstelbestand. De afbeelding hierboven geeft de IT-architectuur van Hotmaps weer. </p><p> Sommige partnerorganisaties beperkten de communicatie alleen tot poort 80. Om de problemen als gevolg van deze beperking te voorkomen, is een reverse-proxy gemaakt. Deze reverse-proxy biedt één toegangspunt en distribueert vervolgens het verzoek van de klant naar de betreffende service. De reverse proxy bestaat uit drie componenten: </p><ol><li> Omgekeerde proxyserver: het dient als een uniek toegangspunt en distribueert aanvragen naar de juiste services. </li><li> Proxy-gen: het is een service die automatisch alle services in de omgekeerde proxy in kaart brengt. Het is dus niet nodig om handmatig een nieuwe service aan de proxyconfiguratie toe te voegen </li><li> let-encrypt: het is een service die het gebruik van het SSL-protocol mogelijk maakt. Het is noodzakelijk om het https-protocol te activeren. De SSL-certificaten worden ondertekend door een e-mailadres dat in deze service is geconfigureerd. </li></ol><p> Er zijn drie netwerken: </p><ul><li> Met hotmaps_nginx kan de reverse proxy communiceren met de api, de frontend en de geoserver. Het maakt het vooral mogelijk om een verzoek naar de juiste service onder de drie te verspreiden. </li><li> hotmaps_backend maakt de communicatie mogelijk tussen alle componenten van de backend: api, frontend, geoserver en de PostgreSQL-database. </li><li> hotmaps_cm-net staat de communicatie toe tussen elke berekeningsmodule en de api. </li></ul><p> Elke berekeningsmodule heeft zijn eigen Docker-container. </p><h3> Ren met Docker </h3><p> Hotmaps gebruikt <a href="https://www.docker.com/">Docker</a> software en <a href="https://docs.docker.com/compose/">Docker-Compose</a> tool om containers te beheren. Een docker-compose.yml-bestand bevat de hele configuratie van de Docker-architectuur (configuratie van containers, netwerken, links, ...). Hiermee kunnen containers worden uitgevoerd met één eenvoudige opdracht: </p><pre> <code class="language-shell">docker-compose up</code> </pre><p> <em>Er is meer over docker-componeren op de website van Docker: <a href="https://docs.docker.com/compose/reference/">Stel opdrachtregelreferentie samen</a> en <a href="https://docs.docker.com/compose/compose-file/">Stel bestandsreferentie samen</a> .</em> </p><p> Er is slechts één container die gescheiden van andere wordt uitgevoerd: het is de database omdat deze altijd up-to-date moet blijven. Dat is waarom het niet in het docker-compose configuratiebestand staat. </p><h3> Server infrastructuur </h3><h4> Infrastructuur </h4><p> Momenteel wordt de server gehost op de HES-SO in Zwitserland. Er zijn 2 machines beschikbaar: een voor ontwikkeling (ontwikkeling en testen) en een voor productie (de eigenlijke toolbox, beschikbaar op <a href="https://www.hotmaps.eu">www.hotmaps.eu</a> ). </p><p> Beide machines hebben dezelfde specificatie: </p><ul><li> CPU: Intel Xeon E5-2680 v4 (8) @ 2,4 GHz) </li><li> RAM: 16 GB </li><li> HDD: 500 GB </li><li> Besturingssysteem: Ubutnu 16.04 LTS </li></ul><h4> Prestatie </h4><p> We voeren regelmatig prestatietests uit op de ontwikkelingsserver om een bepaald aantal gelijktijdige gebruikers te garanderen. </p><p> Hieronder volgen als voorbeeld de resultaten van de eerste bèta-release versus de toekomstige releasetests. De nieuwe release bevat enkele prestatieverbeteringen. </p><p> <em>Dit voorbeeld toont de prestatietests van gelijktijdige gebruikers die dezelfde functie gebruiken: &quot;duurcurve voor hectareselectie&quot;. De vetgedrukte lijn geeft de limiet aan waar de server fouten begint te maken. Hectare-selectie is een goed voorbeeld, omdat deze de vragen toont die de meeste middelen vereisen.</em> </p><p> <strong>Beta-release van maart 2019</strong> </p><p> | Aantal gesimuleerde gebruikers | Gemiddelde tijd | Mediaan | Max. Tijd | Min. Tijd | Percentage fouten | | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 2936 | 2936 | 2936 | 2936 | 0 | | 20 | 9329 | 9503 | 11778 | 6901 | 0 | | 50 | 22922 | 22713 | 33401 | 8661 | 0 | | <strong>100</strong> | 33302 | 32875 | 58257 | 4929 | <strong>16</strong> | | 200 | nb | nb | nb | nb | nb | | 300 | nb | nb | nb | nb | nb | </p><p> <strong>Toekomstige release op de DEV (maart 2019)</strong> </p><p> | Aantal gesimuleerde gebruikers | Gemiddelde tijd | Mediaan | Max. Tijd | Min. Tijd | Percentage fouten | | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 1802 | 1802 | 1802 | 1802 | 0 | | 20 | 5289 | 2677 | 6873 | 2149 | 0 | | 50 | 10775 | 11274 | 17081 | 2577 | 0 | | 100 | 19807 | 20280 | 35142 | 3156 | 0 | | 200 | 37302 | 37575 | 69930 | 3381 | 0 | | <strong>300</strong> | 49091 | 57536 | 83578 | 2447 | <strong>26</strong> | </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Hoe indicatoren te definiëren </h2><p> <a href="indicator_readme">Indicator Definitie</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Referenties </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Hoe te citeren </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Auteurs en recensenten </h2><p> auteurs: </p><ul><li> Daniel Hunacek </li><li> Lucien Zuber </li><li> Matthieu Dayer </li></ul><p> reviewers: </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Erkenning </h2><p> We willen graag onze grote waardering <a href="https://www.hotmaps-project.eu">uitspreken</a> voor het Horizon 2020 <a href="https://www.hotmaps-project.eu">Hotmaps-project</a> (subsidieovereenkomst nummer 723677), dat de financiering heeft verstrekt voor het uitvoeren van dit onderzoek </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2></h2>

This page was automatically translated. View in another language:

[English](../en/Developers.md) (nl-original) [Bulgarian](../bg/Developers.md)<sup>\*</sup> [Croatian](../hr/Developers.md)<sup>\*</sup> [Czech](../cs/Developers.md)<sup>\*</sup> [Danish](../da/Developers.md)<sup>\*</sup>  [Estonian](../et/Developers.md)<sup>\*</sup> [Finnish](../fi/Developers.md)<sup>\*</sup> [French](../fr/Developers.md)<sup>\*</sup> [German](../de/Developers.md)<sup>\*</sup> [Greek](../el/Developers.md)<sup>\*</sup> [Hungarian](../hu/Developers.md)<sup>\*</sup> [Irish](../ga/Developers.md)<sup>\*</sup> [Italian](../it/Developers.md)<sup>\*</sup> [Latvian](../lv/Developers.md)<sup>\*</sup> [Lithuanian](../lt/Developers.md)<sup>\*</sup> [Maltese](../mt/Developers.md)<sup>\*</sup> [Polish](../pl/Developers.md)<sup>\*</sup> [Portuguese (Portugal, Brazil)](../pt/Developers.md)<sup>\*</sup> [Romanian](../ro/Developers.md)<sup>\*</sup> [Slovak](../sk/Developers.md)<sup>\*</sup> [Slovenian](../sl/Developers.md)<sup>\*</sup> [Spanish](../es/Developers.md)<sup>\*</sup> [Swedish](../sv/Developers.md)<sup>\*</sup> 

<sup>\*</sup>: machine translated
