<h2> Съдържание </h2><ul><li> <a href="#Introduction">Въведение</a> </li><li> <a href="#Dataset-integration">Интеграция на набор от данни</a> </li><li> <a href="#add-your-datasets-on-gitlab">Добавете вашите набори от данни в GitLab</a> </li><li> <a href="#List-of-main-repositories">Списък на основните хранилища</a> </li><li> <a href="#How-to-contribute-code">Как да добавите код</a> </li><li> <a href="#Description-of-IT-infrastructure">Описание на ИТ инфраструктурата</a> <ul><li> <a href="#Run-with-Docker">Пусни с Докер</a> </li><li> <a href="#Server-infrastructure">Сървърна инфраструктура</a> <ul><li> <a href="#Infrastructure">инфраструктура</a> </li><li> <a href="#Performance">производителност</a> </li></ul></li></ul></li><li> <a href="#How-to-define-indicators">Как да дефинираме показатели</a> </li><li> <a href="#References">Препратки</a> </li><li> <a href="#How-to-cite">Как да цитирам</a> </li><li> <a href="#Authors-and-reviewers">Автори и рецензенти</a> </li><li> <a href="#Acknowledgement">признание</a> </li></ul><h2> Въведение </h2><p> Тази страница съдържа цялата информация, необходима на разработчиците да допринесат към платформата Hotmaps или да разберат как работи. </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Интеграция на набор от данни </h2><p> Интеграцията на нови публични набори от данни се обработва, както следва: </p><ol><li> наборите данни трябва да бъдат преместени в git хранилище ( <a href="#Add-your-datasets-on-GitLab">Добавете вашите набори от данни в GitLab</a> ) </li><li> всяка вечер скрипт интегрира новите / актуализирани набори от данни към платформата DEV </li><li> ако всичко работи добре, наборът от данни вече е наличен на платформата DEV и разработчиците могат да го интегрират в своя код </li><li> След като кодирането е завършено, новите функции се добавят към производствената платформа чрез нова версия </li></ol><p><img alt="интеграция на данни" src="images/data-integration-workflow.png"/></p><p> Ако база данни не успее по време на интеграцията, на Тайга (платформа за управление на проекти) се създава проблем. Проблемът показва повдигнатата грешка и разработчикът трябва да я поправи и да натисне отново работата си към Git, така че скриптът да се опита да го интегрира отново на следващата вечер. </p><p> Изходният код на скрипта за интегриране е достъпен на тази връзка: <a href="https://github.com/HotMaps/CI_DatasetIntegration">Интегриране на данни</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Добавете вашите набори от данни в GitLab </h2><p> За да добавите набори от данни в списъка с публични набори от данни, те трябва да бъдат преместени в ново Git хранилище в GitLab. Ето организацията на GitLab, където трябва да бъдат изтласкани набори от данни: <a href="https://gitlab.com/hotmaps">Набори от данни в GitLab</a> . </p><p> Веднъж на ден хранилищата се проверяват за нови ангажименти и се интегрират, ако е така. Процесът на интегриране проверява дали данните отговарят на спецификацията или не. </p><p> Ето спецификацията: <a href="uploads%5CHotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf">Hotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Списък на основните хранилища </h2><p> Кодът на приложението се намира в GitHub при <a href="https://github.com/HotMaps">организацията Hotmaps</a> . Тази организация притежава няколко хранилища </p><ul><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-client</a> съдържа <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">предната част</a> на нашето приложение. Това е ъглов проект (bg-JavaScript) </li><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-service</a> съдържа API за нашето приложение. Той се основава на колба (Python) </li><li> <a href="https://github.com/HotMaps/hotmaps_wiki">Hotmaps-wiki</a> е Wiki, който в момента четете </li><li> <a href="https://github.com/HotMaps/base_calculation_module">Базов модул за изчисляване</a> е основният шаблон, който можете да използвате, за да създадете свои собствени модули за изчисление за Hotmaps </li><li> списък на модули за изчисление </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Как да добавите код </h2><p> Ако искате да добавите някакъв код към Hotmaps, имате две възможности: ако искате да актуализирате интерфейса или бекенда директно, трябва да промените клиентското или сервизното хранилище на кутията с инструменти. Ако искате да добавите свой собствен модул за изчисление, можете да създадете свой собствен хранилище, като следвате <a href="https://github.com/HotMaps/base_calculation_module">readme на хранилището base_calculation_module</a> </p><p> Ако искате да извършите някаква работа в хранилището на Git, моля, не работете директно с главния клон. Създайте нов клон от разклонителния клон, свършете работата си върху този клон и когато функцията ви е тествана, можете да обедините работата си с разклонителя за развитие, както е показано в следващата графика. </p><p><img alt="git_workflow" src="images/git_workflow.png"/></p><p> За да натиснете нещо към някои хранилища на Hotmaps, трябва да сте член на екипа на Hotmaps, ако не сте, все още можете да извършите вилица на нашия инструмент, за да разработите свой собствен инструмент. </p><p> Можете да намерите повече информация за това как да работите в тези документи: </p><ul><li> <a href="uploads/Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf">Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CHotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf">Hotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CGitFlow_Guidelines_CREM_2017-02-01.pdf">GitFlow_Guidelines_CREM_2017-02-01.pdf</a> </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Описание на ИТ инфраструктурата </h2><p><img alt="ReverseProxy_architecture_latest" src="images/ReverseProxy_architecture_latest.png"/></p><p> Всички услуги и компоненти се използват чрез собствен контейнер Docker. Всички тези контейнери са дефинирани в един единствен докер-композитен файл. Изображението по-горе представлява ИТ архитектурата на Hotmaps. </p><p> Някои партньорски организации ограничиха комуникацията само до порт 80. За да се избегнат проблемите, причинени от това ограничение, беше направено създаване на обратен прокси. Този обратен прокси предлага единна входна точка и след това разпределя заявката, изпратена от клиента до съответната услуга. Обратният прокси е съставен от три компонента: </p><ol><li> Обратен прокси сървър: той служи като уникална входна точка и разпространява заявки към правилните услуги. </li><li> Proxy-gen: това е услуга, която автоматично картографира всички услуги в обратния прокси. По този начин не е необходимо ръчно да добавяте нова услуга към конфигурацията на прокси сървъра </li><li> lets-encrypt: това е услуга, която позволява използването на SSL протокол. Това е необходимо, за да се активира протоколът https. SSL сертификатите се подписват от имейл адрес, конфигуриран в тази услуга. </li></ol><p> Съществуват три мрежи: </p><ul><li> hotmaps_nginx позволява на обратния прокси да комуникира с api, frontend и геосервер. Основно позволява да се разпространи заявка към правилната услуга между трите. </li><li> hotmaps_backend позволява комуникацията между всички компоненти на бекенда: api, frontend, geoserver и базата данни PostgreSQL. </li><li> hotmaps_cm-net позволява комуникацията между всеки модул за изчисление и api. </li></ul><p> Всеки модул за изчисление има свой контейнер Docker. </p><h3> Пусни с Докер </h3><p> Hotmaps използва <a href="https://www.docker.com/">Docker</a> софтуер и <a href="https://docs.docker.com/compose/">Docker-Съставете</a> инструмент за управление на контейнери. Файл docker-compose.yml съдържа цялата конфигурация на Docker архитектурата (конфигурация на контейнери, мрежи, връзки, ...). Това позволява контейнерите да се изпълняват с една проста команда: </p><pre> <code class="language-shell">docker-compose up</code> </pre><p> <em>На уебсайта на Docker има повече информация за docker-compose: <a href="https://docs.docker.com/compose/reference/">Създаване на референтен команден ред</a> и <a href="https://docs.docker.com/compose/compose-file/">Създаване на файл за справка</a> .</em> </p><p> Има само един контейнер, който се изпълнява отделно от другите: това е базата данни, защото трябва да стои постоянно през цялото време. Ето защо не е в конфигурационния файл на docker-compose. </p><h3> Сървърна инфраструктура </h3><h4> инфраструктура </h4><p> За момента сървърът се хоства в HES-SO в Швейцария. Предлагат се 2 машини: една за разработка (разработка и тестване) и една за производство (действителната кутия с инструменти, достъпна на <a href="https://www.hotmaps.eu">www.hotmaps.eu</a> ). </p><p> И двете машини имат една и съща спецификация: </p><ul><li> Процесор: Intel Xeon E5-2680 v4 (8) @ 2.4GHz) </li><li> RAM: 16GB </li><li> HDD: 500GB </li><li> ОС: Ubutnu 16.04 LTS </li></ul><h4> производителност </h4><p> Често провеждаме тестове за производителност на сървъра за разработка, за да гарантираме определено количество едновременни потребители. </p><p> Като пример по-долу са представени резултатите от първата бета версия спрямо бъдещите тестове за издаване. Новата версия включва някои подобрения в производителността. </p><p> <em>Този пример показва тестовете за ефективност на едновременни потребители, използващи една и съща функция: &quot;крива на продължителност за избор на хектар&quot;. Удебелената линия показва границата, при която сървърът започва да повдига грешки. Изборът на хектар е добър пример, тъй като показва заявките, които изискват най-много ресурси.</em> </p><p> <strong>Бета версия на март 2019 г.</strong> </p><p> | Nb от симулирани потребители | Средно време | Медиана | Максимално време | Мин време | Процент грешки | | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 2936 | 2936 | 2936 | 2936 | 0 | | 20 | 9329 | 9503 | 11778 | 6901 | 0 | | 50 | 22922 | 22713 | 33401 | 8661 | 0 | | <strong>100</strong> | 33302 | 32875 | 58257 | 4929 | <strong>16</strong> | | 200 | na | na | na | na | na | | 300 | na | na | na | na | na | </p><p> <strong>Бъдещо издание на DEV (март 2019 г.)</strong> </p><p> | Nb от симулирани потребители | Средно време | Медиана | Максимално време | Мин време | Процент грешки | | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 1802 | 1802 | 1802 | 1802 | 0 | | 20 | 5289 | 2677 | 6873 | 2149 | 0 | | 50 | 10775 | 11274 | 17081 | 2577 | 0 | | 100 | 19807 | 20280 | 35142 | 3156 | 0 | | 200 | 37302 | 37575 | 69930 | 3381 | 0 | | <strong>300</strong> | 49091 | 57536 | 83578 | 2447 | <strong>26</strong> | </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Как да дефинираме показатели </h2><p> <a href="indicator_readme">Дефинитор на индикатора</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Препратки </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Как да цитирам </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Автори и рецензенти </h2><p> Автори: </p><ul><li> Даниел Хуначек </li><li> Люсиен Зубер </li><li> Матьо Дайър </li></ul><p> Рецензенти: </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> признание </h2><p> Бихме искали да предадем дълбоката си признателност на <a href="https://www.hotmaps-project.eu">проекта за горещи карти</a> на Хоризонт 2020 (Споразумение за безвъзмездна финансова помощ 723677), който осигури финансирането за провеждане на настоящото разследване </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2></h2>

This page was automatically translated. View in another language:

[English](en-Developers) (original)  [Croatian](hr-Developers)<sup>\*</sup> [Czech](cs-Developers)<sup>\*</sup> [Danish](da-Developers)<sup>\*</sup> [Dutch](nl-Developers)<sup>\*</sup> [Estonian](et-Developers)<sup>\*</sup> [Finnish](fi-Developers)<sup>\*</sup> [French](fr-Developers)<sup>\*</sup> [German](de-Developers)<sup>\*</sup> [Greek](el-Developers)<sup>\*</sup> [Hungarian](hu-Developers)<sup>\*</sup> [Irish](ga-Developers)<sup>\*</sup> [Italian](it-Developers)<sup>\*</sup> [Latvian](lv-Developers)<sup>\*</sup> [Lithuanian](lt-Developers)<sup>\*</sup> [Maltese](mt-Developers)<sup>\*</sup> [Polish](pl-Developers)<sup>\*</sup> [Portuguese (Portugal, Brazil)](pt-Developers)<sup>\*</sup> [Romanian](ro-Developers)<sup>\*</sup> [Slovak](sk-Developers)<sup>\*</sup> [Slovenian](sl-Developers)<sup>\*</sup> [Spanish](es-Developers)<sup>\*</sup> [Swedish](sv-Developers)<sup>\*</sup> 

<sup>\*</sup>: machine translated
