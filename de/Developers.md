<h1> <a class="anchor" id="developers" href="#developers"><i class="fa fa-link"></i></a> Entwickler </h1><h2> <a class="anchor" id="table-of-contents" href="#table-of-contents"><i class="fa fa-link"></i></a> Inhaltsverzeichnis </h2><ul><li><p> <a href="#introduction">Einführung</a> </p></li><li><p> <a href="#dataset-integration">Datensatzintegration</a> </p></li><li><p> <a href="#add-your-datasets-on-gitlab">Fügen Sie Ihre Datensätze in GitLab hinzu</a> </p></li><li><p> <a href="#list-of-main-repositories">Liste der wichtigsten Repositories</a> </p></li><li><p> <a href="#how-to-contribute-code">Wie man Code beisteuert</a> </p></li><li><p> <a href="#description-of-it-infrastructure">Beschreibung der IT-Infrastruktur</a> </p><ul><li><p> <a href="#run-with-docker">Führen Sie mit Docker aus</a> </p></li><li><p> <a href="#server-infrastructure">Serverinfrastruktur</a> </p><ul><li><p> <a href="#infrastructure">Infrastruktur</a> </p></li><li><p> <a href="#performance">Performance</a> </p></li></ul></li></ul></li><li><p> <a href="#how-to-define-indicators">Indikatoren definieren</a> </p></li><li><p> <a href="#references">Verweise</a> </p></li><li><p> <a href="#how-to-cite">Wie man zitiert</a> </p></li><li><p> <a href="#authors-and-reviewers">Autoren und Gutachter</a> </p></li><li><p> <a href="#acknowledgement">Wissen</a> </p></li></ul><h2> <a class="anchor" id="introduction" href="#introduction"><i class="fa fa-link"></i></a> Einführung </h2><p> Diese Seite enthält alle Informationen, die Entwickler benötigen, um zur Hotmaps-Plattform beizutragen oder deren Funktionsweise zu verstehen. </p><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="dataset-integration" href="#dataset-integration"><i class="fa fa-link"></i></a> Datensatzintegration </h2><p> Die Integration neuer öffentlicher Datensätze erfolgt wie folgt: </p><ol><li><p> Datensätze müssen in ein Git-Repository verschoben werden ( <a href="#add-your-datasets-on-gitlab">Datensätze in GitLab hinzufügen</a> ) </p></li><li><p> Jede Nacht integriert ein Skript die neuen / aktualisierten Datensätze in die DEV-Plattform </p></li><li><p> Wenn alles gut funktioniert hat, ist der Datensatz jetzt auf der DEV-Plattform verfügbar, und Entwickler können ihn in ihren Code integrieren </p></li><li><p> Sobald die Codierung abgeschlossen ist, werden die neuen Funktionen in einem neuen Release zur Produktionsplattform hinzugefügt </p></li></ol><p><img alt="Datenintegration" src="images/data-integration-workflow.png"/></p><p> Wenn ein Datensatz während der Integration fehlschlägt, wird ein Problem in Taiga (Projektverwaltungsplattform) erstellt. Das Problem zeigt, dass der Fehler aufgetreten ist und der Entwickler das Problem beheben und seine Arbeit erneut an Git senden sollte, damit das Skript versuchen kann, ihn am nächsten Abend erneut zu integrieren. </p><p> Der Quellcode des Integrationsskripts ist unter folgendem Link verfügbar: <a href="https://github.com/HotMaps/CI_DatasetIntegration">Datenintegration</a> </p><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="add-your-datasets-on-gitlab" href="#add-your-datasets-on-gitlab"><i class="fa fa-link"></i></a> Fügen Sie Ihre Datensätze in GitLab hinzu </h2><p> Um Datensätze zur Liste der öffentlichen Datensätze hinzuzufügen, müssen sie in ein neues Git-Repository in GitLab verschoben werden. Hier ist die GitLab-Organisation, in die Datensätze übertragen werden sollen: Datensätze <a href="https://gitlab.com/hotmaps">in GitLab</a> . </p><p> Einmal am Tag werden die Repositories auf neue Commits überprüft und gegebenenfalls integriert. Der Integrationsprozess prüft, ob die Daten der Spezifikation entsprechen oder nicht. </p><p> Hier ist die Spezifikation: <a href="uploads/Hotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf">Hotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf</a> </p><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="list-of-main-repositories" href="#list-of-main-repositories"><i class="fa fa-link"></i></a> Liste der wichtigsten Repositories </h2><p> Der Code der Anwendung befindet sich auf GitHub unter der <a href="https://github.com/HotMaps">Hotmaps-Organisation</a> . Diese Organisation besitzt mehrere Repositorys </p><ul><li><p> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-Toolbox-Client</a> enthält das Frontend unserer Anwendung. Es ist ein Angular-Projekt (JavaScript) </p></li><li><p> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-Toolbox-Service</a> enthält die API für unsere Anwendung. Es basiert auf Flask (Python) </p></li><li><p> <a href="https://github.com/HotMaps/hotmaps_wiki">Hotmaps-Wiki</a> ist das Wiki, das Sie gerade lesen </p></li><li><p> <a href="https://github.com/HotMaps/base_calculation_module">Das Basisberechnungsmodul</a> ist die Basisvorlage, mit der Sie Ihre eigenen Berechnungsmodule für Hotmaps erstellen können </p></li><li><p> eine Liste der Berechnungsmodule </p></li></ul><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="how-to-contribute-code" href="#how-to-contribute-code"><i class="fa fa-link"></i></a> Wie man Code beisteuert </h2><p> Wenn Sie Hotmaps Code hinzufügen möchten, haben Sie zwei Möglichkeiten: Wenn Sie die Benutzeroberfläche oder das Backend direkt aktualisieren möchten, müssen Sie das Client- oder Service-Repository der Toolbox ändern. Wenn Sie Ihr eigenes Berechnungsmodul hinzufügen möchten, können Sie Ihr eigenes Repository erstellen, indem Sie <a href="https://github.com/HotMaps/base_calculation_module">der Readme-Datei des Repository base_calculation_module folgen</a> </p><p> Wenn Sie Arbeiten am Git-Repository ausführen möchten, arbeiten Sie nicht direkt mit dem Master-Zweig. Erstellen Sie einen neuen Zweig aus dem Entwicklungszweig, bearbeiten Sie diesen Zweig, und wenn Ihre Funktion getestet wurde, können Sie Ihre Arbeit mit dem Entwicklungszweig zusammenführen, wie in der folgenden Grafik dargestellt. </p><p><img alt="git_workflow" src="images/git_workflow.png"/></p><p> Um etwas in ein Hotmaps-Repository zu pushen, müssen Sie Mitglied des Hotmaps-Teams sein. Andernfalls können Sie immer noch eine Abzweigung unseres Tools ausführen, um Ihr eigenes Tool zu entwickeln. </p><p> Weitere Informationen zum Arbeiten finden Sie in den folgenden Dokumenten: </p><ul><li><p> <a href="uploads/Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf">Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf</a> </p></li><li><p> <a href="uploads/Hotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf">Hotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf</a> </p></li><li><p> <a href="uploads/GitFlow_Guidelines_CREM_2017-02-01.pdf">GitFlow_Guidelines_CREM_2017-02-01.pdf</a> </p></li></ul><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="description-of-it-infrastructure" href="#description-of-it-infrastructure"><i class="fa fa-link"></i></a> Beschreibung der IT-Infrastruktur </h2><p><img alt="ReverseProxy_architecture_latest" src="images/ReverseProxy_architecture_latest.png"/></p><p> Alle Dienste und Komponenten werden über einen eigenen Docker-Container verwendet. Alle diese Container sind in einer einzigen Docker-Compose-Datei definiert. Das obige Bild zeigt die IT-Architektur von Hotmaps. </p><p> Einige Partnerorganisationen beschränkten die Kommunikation nur auf Port 80. Um die durch diese Einschränkung verursachten Probleme zu vermeiden, wurde ein Reverse-Proxy erstellt. Dieser Reverse-Proxy bietet einen einzelnen Eintrittspunkt und verteilt dann die vom Kunden gesendete Anfrage an den betreffenden Dienst. Der Reverse Proxy besteht aus drei Komponenten: </p><ol><li><p> Reverse-Proxy-Server: Er dient als eindeutiger Eintrittspunkt und verteilt Anforderungen an die richtigen Dienste. </p></li><li><p> Proxy-Gen: Dies ist ein Dienst, der automatisch alle Dienste im Reverse-Proxy zuordnet. Daher ist es nicht erforderlich, der Proxy-Konfiguration manuell einen neuen Dienst hinzuzufügen </p></li><li><p> lets-encrypt: Dies ist ein Dienst, der die Verwendung des SSL-Protokolls ermöglicht. Es ist notwendig, um das https-Protokoll zu aktivieren. Die SSL-Zertifikate werden von einer in diesem Dienst konfigurierten E-Mail-Adresse signiert. </p></li></ol><p> Es gibt drei Netzwerke: </p><ul><li><p> hotmaps_nginx ermöglicht dem Reverse-Proxy die Kommunikation mit der API, dem Frontend und dem Geoserver. Es erlaubt hauptsächlich, eine Anfrage an den richtigen Dienst unter den drei zu verteilen. </p></li><li><p> hotmaps_backend ermöglicht die Kommunikation zwischen allen Komponenten des Backends: API, Frontend, Geoserver und der PostgreSQL-Datenbank. </p></li><li><p> hotmaps_cm-net ermöglicht die Kommunikation zwischen den einzelnen Berechnungsmodulen und der API. </p></li></ul><p> Jedes Berechnungsmodul verfügt über einen eigenen Docker-Container. </p><h3> <a class="anchor" id="run-with-docker" href="#run-with-docker"><i class="fa fa-link"></i></a> Führen Sie mit Docker aus </h3><p> Hotmaps verwendet <a href="https://www.docker.com/">Docker-</a> Software und <a href="https://docs.docker.com/compose/">Docker-Compose-</a> Tool zum Verwalten von Containern. Eine docker-compose.yml-Datei enthält die gesamte Konfiguration der Docker-Architektur (Konfiguration von Containern, Netzwerken, Links, ...). Dies ermöglicht die Ausführung von Containern mit einem einfachen Befehl: </p><pre> <code class="language-shell">docker-compose up</code> </pre><p> <em>Weitere Informationen zu Docker- <a href="https://docs.docker.com/compose/reference/">Compose finden</a> Sie auf der Docker-Website: <a href="https://docs.docker.com/compose/reference/">Compose-Befehlszeilenreferenz</a> und <a href="https://docs.docker.com/compose/compose-file/">Compose-</a> Dateireferenz.</em> </p><p> Es gibt nur einen Container, der separat von anderen ausgeführt wird: Es handelt sich um die Datenbank, da diese die ganze Zeit aktiv sein muss. Aus diesem Grund ist es nicht in der Docker-Compose-Konfigurationsdatei enthalten. </p><h3> <a class="anchor" id="server-infrastructure" href="#server-infrastructure"><i class="fa fa-link"></i></a> Serverinfrastruktur </h3><h4> <a class="anchor" id="infrastructure" href="#infrastructure"><i class="fa fa-link"></i></a> Infrastruktur </h4><p> Der Server wird vorerst bei der HES-SO in der Schweiz gehostet. Es stehen 2 Maschinen zur Verfügung: eine für die Entwicklung (Entwicklung und Prüfung) und eine für die Produktion (die aktuelle Toolbox, verfügbar unter <a href="https://www.hotmaps.eu">www.hotmaps.eu</a> ). </p><p> Beide Maschinen haben die gleiche Spezifikation: </p><ul><li><p> CPU: Intel Xeon E5-2680 v4 (8) bei 2,4 GHz </p></li><li><p> RAM: 16 GB </p></li><li><p> Festplatte: 500 GB </p></li><li><p> OS: Ubutnu 16.04 LTS </p></li></ul><h4> <a class="anchor" id="performance" href="#performance"><i class="fa fa-link"></i></a> Performance </h4><p> Wir führen häufig Leistungstests auf dem Entwicklungsserver durch, um eine bestimmte Anzahl gleichzeitiger Benutzer zu gewährleisten. </p><p> Im Folgenden sind beispielhaft die Ergebnisse der ersten Beta-Version im Vergleich zu den zukünftigen Release-Tests aufgeführt. Die neue Version enthält einige Leistungsverbesserungen. </p><p> <em>Dieses Beispiel zeigt die Leistungstests von gleichzeitigen Benutzern, die dieselbe Funktion verwenden: &quot;Dauerlinie für Hektarauswahl&quot;. Die fette Linie zeigt die Grenze, an der der Server Fehler auslöst. Die Hektarauswahl ist ein gutes Beispiel, da sie die Abfragen zeigt, die die meisten Ressourcen erfordern.</em> </p><p> <strong>Beta-Version von März 2019</strong> </p><p> | Anzahl der simulierten Benutzer Durchschnittliche Zeit | Median | Maximale Zeit | Min Zeit | Prozentsatz der Fehler </p><p> | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | </p><p> | 1 | 2936 | 2936 | 2936 | 2936 | 0 | </p><p> | 20 | 9329 | 9503 | 11778 | 6901 | 0 | </p><p> | 50 | 22922 | 22713 | 33401 | 8661 | 0 | </p><p> | <strong>100</strong> | 33302 | 32875 | 58257 | 4929 | <strong>16</strong> | </p><p> | 200 | na | na | na | na | na | </p><p> | 300 | na | na | na | na | na | </p><p> <strong>Zukünftige Veröffentlichung auf der DEV (März 2019)</strong> </p><p> | Anzahl der simulierten Benutzer Durchschnittliche Zeit | Median | Maximale Zeit | Min Zeit | Prozentsatz der Fehler </p><p> | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | </p><p> | 1 | 1802 | 1802 | 1802 | 1802 | 0 | </p><p> | 20 | 5289 | 2677 | 6873 | 2149 | 0 | </p><p> | 50 | 10775 | 11274 | 17081 | 2577 | 0 | </p><p> | 100 | 19807 | 20280 | 35142 | 3156 | 0 | </p><p> | 200 | 37302 | 37575 | 69930 | 3381 | 0 | </p><p> | <strong>300</strong> | 49091 | 57536 | 83578 | 2447 | <strong>26</strong> | </p><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="how-to-define-indicators" href="#how-to-define-indicators"><i class="fa fa-link"></i></a> Indikatoren definieren </h2><p> <a href="indicator_readme">Indikatordefinition</a> </p><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="references" href="#references"><i class="fa fa-link"></i></a> Verweise </h2><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="how-to-cite" href="#how-to-cite"><i class="fa fa-link"></i></a> Wie man zitiert </h2><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="authors-and-reviewers" href="#authors-and-reviewers"><i class="fa fa-link"></i></a> Autoren und Gutachter </h2><p> Autoren: </p><ul><li><p> Daniel Hunacek </p></li><li><p> Lucien Zuber </p></li><li><p> Matthieu Dayer </p></li></ul><p> Rezensenten: </p><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="acknowledgement" href="#acknowledgement"><i class="fa fa-link"></i></a> Wissen </h2><p> Wir möchten dem Horizon 2020 <a href="https://www.hotmaps-project.eu">Hotmaps-Projekt</a> (Finanzhilfevereinbarung Nr. 723677), das die Mittel für die Durchführung dieser Untersuchung zur Verfügung stellte, unsere tiefste Anerkennung <a href="https://www.hotmaps-project.eu">aussprechen</a> </p><p> <a href="#table-of-contents"><strong><code>To Top</code></strong></a> </p> <h2> <a class="anchor" id="" href="#"><i class="fa fa-link"></i></a> </h2>
<!--- THIS IS A SUPER UNIQUE IDENTIFIER -->

This page was automatically translated. View in another language:

[English](../en/Developers) (original)  

<sup>\*</sup> machine translated
