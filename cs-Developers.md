<h2> Obsah </h2><ul><li> <a href="#Introduction">Úvod</a> </li><li> <a href="#Dataset-integration">Integrace datové sady</a> </li><li> <a href="#add-your-datasets-on-gitlab">Přidejte své datové sady na GitLab</a> </li><li> <a href="#List-of-main-repositories">Seznam hlavních úložišť</a> </li><li> <a href="#How-to-contribute-code">Jak přispět kódem</a> </li><li> <a href="#Description-of-IT-infrastructure">Popis IT infrastruktury</a> <ul><li> <a href="#Run-with-Docker">Běh s Dockerem</a> </li><li> <a href="#Server-infrastructure">Infrastruktura serveru</a> <ul><li> <a href="#Infrastructure">Infrastruktura</a> </li><li> <a href="#Performance">Výkon</a> </li></ul></li></ul></li><li> <a href="#How-to-define-indicators">Jak definovat ukazatele</a> </li><li> <a href="#References">Reference</a> </li><li> <a href="#How-to-cite">Jak citovat</a> </li><li> <a href="#Authors-and-reviewers">Autoři a recenzenti</a> </li><li> <a href="#Acknowledgement">Potvrzení</a> </li></ul><h2> Úvod </h2><p> Tato stránka obsahuje všechny informace, které vývojáři potřebují k tomu, aby přispěli k platformě Hotmaps nebo aby pochopili, jak funguje. </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Integrace datové sady </h2><p> Integrace nových veřejných datových souborů se řeší následovně: </p><ol><li> datové sady musí být zaslány do úložiště git ( <a href="#Add-your-datasets-on-GitLab">Přidejte své datové sady na GitLab</a> ) </li><li> skript každou noc integruje nové / aktualizované datové sady do platformy DEV </li><li> Pokud všechno fungovalo dobře, datová sada je nyní k dispozici na platformě DEV a vývojáři ji mohou integrovat do svého kódu </li><li> Po dokončení kódování jsou nové funkce přidány do produkční platformy prostřednictvím nové verze </li></ol><p><img alt="integrace dat" src="images/data-integration-workflow.png"/></p><p> Pokud během integrace datový soubor selže, je problém vytvořen na platformě Taiga (cs-platforma pro správu projektů). Tento problém ukazuje vznesenou chybu a vývojář by ji měl opravit a znovu poslat svou práci na Git, aby se skript mohl pokusit znovu integrovat příští večer. </p><p> Zdrojový kód integračního skriptu je k dispozici na tomto odkazu: <a href="https://github.com/HotMaps/CI_DatasetIntegration">Integrace dat</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Přidejte své datové sady na GitLab </h2><p> Chcete-li přidat datové sady do seznamu veřejných datových souborů, musí být přesunuty do nového úložiště Git na GitLab. Zde je organizace GitLab, do které by se měly zasílat datové <a href="https://gitlab.com/hotmaps">sady</a> : <a href="https://gitlab.com/hotmaps">Datové sady na GitLab</a> . </p><p> Jednou denně jsou úložiště kontrolována na nové závazky a pokud ano, jsou integrována. Proces integrace kontroluje, zda data odpovídají specifikaci nebo ne. </p><p> Zde je specifikace: <a href="uploads%5CHotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf">Hotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Seznam hlavních úložišť </h2><p> Kód aplikace je umístěn na GitHubu v <a href="https://github.com/HotMaps">organizaci Hotmaps</a> . Tato organizace vlastní několik úložišť </p><ul><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-client</a> obsahuje rozhraní naší aplikace. Je to projekt Angular (JavaScript) </li><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Služba Hotmaps-toolbox-service</a> obsahuje API pro naši aplikaci. Je založen na baňce (Python) </li><li> <a href="https://github.com/HotMaps/hotmaps_wiki">Hotmaps-wiki</a> je Wiki, kterou právě čtete </li><li> <a href="https://github.com/HotMaps/base_calculation_module">základní výpočetní modul</a> je základní šablona, kterou můžete použít k vytvoření vlastních výpočtových modulů pro Hotmapy </li><li> seznam výpočtových modulů </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Jak přispět kódem </h2><p> Pokud chcete do Hotmaps přidat nějaký kód, máte dvě možnosti: Chcete-li přímo aktualizovat rozhraní nebo backend, musíte změnit úložiště klienta nebo služby v sadě nástrojů. Pokud chcete přidat svůj vlastní výpočetní modul, můžete si vytvořit vlastní úložiště podle <a href="https://github.com/HotMaps/base_calculation_module">readme úložiště base_calculation_module.</a> </p><p> Pokud chcete v úložišti Git provádět nějakou práci, nepracujte prosím přímo s hlavní větví. Vytvořte novou větev z vývojové větve, udělejte svou práci v této větvi a když je vaše funkce testována, můžete sloučit svou práci s vývojovou větví, jak je ukázáno v následujícím grafu. </p><p><img alt="git_workflow" src="images/git_workflow.png"/></p><p> Aby se něco přesunulo do některého úložiště Hotmaps, musíte být členem týmu Hotmaps, pokud nejste, stále jste schopni provést vidličku našeho nástroje pro vývoj vlastního nástroje. </p><p> Další informace o tom, jak pracovat v těchto dokumentech: </p><ul><li> <a href="uploads/Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf">Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CHotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf">Hotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CGitFlow_Guidelines_CREM_2017-02-01.pdf">GitFlow_Guidelines_CREM_2017-02-01.pdf</a> </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Popis IT infrastruktury </h2><p><img alt="ReverseProxy_architecture_latest" src="images/ReverseProxy_architecture_latest.png"/></p><p> Všechny služby a komponenty se používají prostřednictvím vlastního kontejneru Docker. Všechny tyto kontejnery jsou definovány v jediném souboru s ukotvitelným složením. Obrázek nahoře představuje architekturu IT Hotmaps. </p><p> Některé partnerské organizace omezily komunikaci pouze na port 80. Aby se předešlo problémům způsobeným tímto omezením, bylo vytvořeno reverzní proxy. Tento zpětný proxy server nabízí jediný vstupní bod a poté distribuuje požadavek zaslaný zákazníkem příslušné službě. Reverzní proxy se skládá ze tří složek: </p><ol><li> Reverzní proxy server: slouží jako jedinečný vstupní bod a distribuuje požadavky správným službám. </li><li> Proxy-gen: je to služba, která automaticky mapuje všechny služby v reverzním proxy. Není tedy nutné ručně přidat novou službu do konfigurace proxy </li><li> lets-encrypt: je to služba, která umožňuje použití protokolu SSL. Je nutné aktivovat protokol https. Certifikáty SSL jsou podepsány e-mailovou adresou nakonfigurovanou v této službě. </li></ol><p> Existují tři sítě: </p><ul><li> hotmaps_nginx umožňuje reverzní proxy komunikovat s api, frontendem a geoserverem. Umožňuje zejména distribuovat požadavek na správnou službu mezi tři. </li><li> hotmaps_backend umožňuje komunikaci mezi všemi komponenty backendu: api, frontend, geoserver a PostgreSQL databáze. </li><li> hotmaps_cm-net umožňuje komunikaci mezi jednotlivými výpočtovými moduly a api. </li></ul><p> Každý výpočetní modul má svůj vlastní kontejner Docker. </p><h3> Běh s Dockerem </h3><p> Hotmaps používá <a href="https://www.docker.com/">Docker</a> software a <a href="https://docs.docker.com/compose/">Docker-Compose</a> nástroj pro správu kontejnerů. Soubor docker-compose.yml obsahuje celou konfiguraci architektury Docker (konfigurace kontejnerů, sítí, odkazů, ...). To umožňuje spuštění kontejnerů jedním jednoduchým příkazem: </p><pre> <code class="language-shell">docker-compose up</code> </pre><p> <em>Na webu Docker se dozvíte více o docker-compose: <a href="https://docs.docker.com/compose/reference/">Odkaz na příkazový řádek</a> a <a href="https://docs.docker.com/compose/compose-file/">odkaz na soubor</a> .</em> </p><p> Existuje pouze jeden kontejner, který se spouští odděleně od ostatních: je to databáze, protože musí zůstat neustále v provozu. To proto není v konfiguračním souboru docker-compose. </p><h3> Infrastruktura serveru </h3><h4> Infrastruktura </h4><p> Momentálně je server hostován na HES-SO ve Švýcarsku. K dispozici jsou 2 stroje: jeden pro vývoj (vývoj a testování) a jeden pro výrobu (vlastní sada nástrojů, k dispozici na <a href="https://www.hotmaps.eu">www.hotmaps.eu</a> ). </p><p> Oba stroje mají stejnou specifikaci: </p><ul><li> CPU: Intel Xeon E5-2680 v4 (8) @ 2,4 GHz) </li><li> RAM: 16 GB </li><li> HDD: 500 GB </li><li> OS: Ubutnu 16.04 LTS </li></ul><h4> Výkon </h4><p> Na vývojovém serveru často provádíme testy výkonu, abychom zaručili určité množství souběžných uživatelů. </p><p> Jako příklad uvádíme níže výsledky prvního vydání beta oproti budoucím testům vydání. Nová verze obsahuje některá vylepšení výkonu. </p><p> <em>Tento příklad ukazuje testy výkonu souběžných uživatelů, kteří používají stejnou funkci: &quot;křivka trvání pro výběr hektaru&quot;. Tučný řádek ukazuje limit, kde server začíná zvyšovat chyby. Hektarový výběr je dobrým příkladem, protože ukazuje dotazy, které vyžadují nejvíce zdrojů.</em> </p><p> <strong>Beta vydání března 2019</strong> </p><p> | Počet simulovaných uživatelů Průměrná doba | Střední | Max. Čas | Min. Čas | Procento chyb | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 2936 | 2936 | 2936 | 2936 | 0 | | 20 | 9329 | 9503 | 11778 | 6901 | 0 | | 50 | 22922 | 22713 | 33401 | 8661 | 0 | | <strong>100</strong> | 33302 | 32875 | 58257 | 4929 | <strong>16</strong> | | 200 | na | na | na | na | na | | 300 | na | na | na | na | na | </p><p> <strong>Budoucí vydání na DEV (březen 2019)</strong> </p><p> | Počet simulovaných uživatelů Průměrná doba | Střední | Max. Čas | Min. Čas | Procento chyb | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 1802 | 1802 | 1802 | 1802 | 0 | | 20 | 5289 | 2677 | 6873 | 2149 | 0 | | 50 | 10775 | 11274 | 17081 | 2577 | 0 | | 100 | 19807 20280 | 35142 | 3156 | 0 | | 200 | 37302 | 37575 | 69930 | 3381 | 0 | | <strong>300</strong> | 49091 | 57536 | 83578 | 2447 | <strong>26</strong> | </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Jak definovat ukazatele </h2><p> <a href="indicator_readme">Definice indikátoru</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Reference </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Jak citovat </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Autoři a recenzenti </h2><p> Autoři: </p><ul><li> Daniel Hunacek </li><li> Lucien Zuber </li><li> Matthieu Dayer </li></ul><p> Recenzenti: </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Potvrzení </h2><p> Chtěli bychom vyjádřit naše nejhlubší uznání projektu Horizon 2020 <a href="https://www.hotmaps-project.eu">Hotmaps Project</a> (Grant Agreement Agreement č. 723677), který poskytl finanční prostředky na provedení tohoto šetření. </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2></h2>

This page was automatically translated. View in another language:

[English](en-Developers) (cs-original) [Bulgarian](bg-Developers)<sup>\*</sup> [Croatian](hr-Developers)<sup>\*</sup>  [Danish](da-Developers)<sup>\*</sup> [Dutch](nl-Developers)<sup>\*</sup> [Estonian](et-Developers)<sup>\*</sup> [Finnish](fi-Developers)<sup>\*</sup> [French](fr-Developers)<sup>\*</sup> [German](de-Developers)<sup>\*</sup> [Greek](el-Developers)<sup>\*</sup> [Hungarian](hu-Developers)<sup>\*</sup> [Irish](ga-Developers)<sup>\*</sup> [Italian](it-Developers)<sup>\*</sup> [Latvian](lv-Developers)<sup>\*</sup> [Lithuanian](lt-Developers)<sup>\*</sup> [Maltese](mt-Developers)<sup>\*</sup> [Polish](pl-Developers)<sup>\*</sup> [Portuguese (Portugal, Brazil)](pt-Developers)<sup>\*</sup> [Romanian](ro-Developers)<sup>\*</sup> [Slovak](sk-Developers)<sup>\*</sup> [Slovenian](sl-Developers)<sup>\*</sup> [Spanish](es-Developers)<sup>\*</sup> [Swedish](sv-Developers)<sup>\*</sup> 

<sup>\*</sup>: machine translated
