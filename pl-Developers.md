<h2> Spis treści </h2><ul><li> <a href="#Introduction">Wprowadzenie</a> </li><li> <a href="#Dataset-integration">Integracja zestawu danych</a> </li><li> <a href="#add-your-datasets-on-gitlab">Dodaj swoje zestawy danych do GitLab</a> </li><li> <a href="#List-of-main-repositories">Lista głównych repozytoriów</a> </li><li> <a href="#How-to-contribute-code">Jak przekazać kod</a> </li><li> <a href="#Description-of-IT-infrastructure">Opis infrastruktury IT</a> <ul><li> <a href="#Run-with-Docker">Uruchom z dokerem</a> </li><li> <a href="#Server-infrastructure">Infrastruktura serwerowa</a> <ul><li> <a href="#Infrastructure">Infrastruktura</a> </li><li> <a href="#Performance">Występ</a> </li></ul></li></ul></li><li> <a href="#How-to-define-indicators">Jak zdefiniować wskaźniki</a> </li><li> <a href="#References">Bibliografia</a> </li><li> <a href="#How-to-cite">Jak cytować</a> </li><li> <a href="#Authors-and-reviewers">Autorzy i recenzenci</a> </li><li> <a href="#Acknowledgement">Potwierdzenie</a> </li></ul><h2> Wprowadzenie </h2><p> Ta strona zawiera wszystkie informacje wymagane od programistów, aby uczestniczyć w tworzeniu platformy Hotmaps lub zrozumieć, jak ona działa. </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Integracja zestawu danych </h2><p> Integracja nowych publicznych zestawów danych odbywa się w następujący sposób: </p><ol><li> zestawy danych muszą zostać przekazane do repozytorium git ( <a href="#Add-your-datasets-on-GitLab">dodaj swoje zestawy danych do GitLab</a> ) </li><li> każdej nocy skrypt integruje nowe / zaktualizowane zestawy danych z platformą DEV </li><li> jeśli wszystko działało dobrze, zestaw danych jest teraz dostępny na platformie DEV, a programiści mogą zintegrować go ze swoim kodem </li><li> Po zakończeniu kodowania nowe funkcje są dodawane do platformy produkcyjnej w nowej wersji </li></ol><p><img alt="integracja danych" src="images/data-integration-workflow.png"/></p><p> Jeśli zestaw danych ulegnie awarii podczas integracji, na Taiga (pl-platforma zarządzania projektami) powstaje problem. Problem pokazuje zgłoszony błąd, a programista powinien go naprawić i przekazać dalej swoją pracę Gitowi, aby skrypt mógł spróbować ponownie go zintegrować następnego wieczora. </p><p> Kod źródłowy skryptu integracji jest dostępny pod tym linkiem: <a href="https://github.com/HotMaps/CI_DatasetIntegration">Integracja danych</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Dodaj swoje zestawy danych do GitLab </h2><p> Aby dodać zestawy danych do listy publicznych zestawów danych, należy je wypchnąć do nowego repozytorium Git na GitLab. Oto organizacja GitLab, w której należy <a href="https://gitlab.com/hotmaps">przesyłać zestawy danych</a> : <a href="https://gitlab.com/hotmaps">Zestawy danych w GitLab</a> . </p><p> Raz dziennie repozytoria są sprawdzane pod kątem nowych zatwierdzeń i, jeśli tak, są integrowane. Proces integracji sprawdza, czy dane są zgodne ze specyfikacją, czy nie. </p><p> Oto specyfikacja: <a href="uploads%5CHotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf">Hotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Lista głównych repozytoriów </h2><p> Kod aplikacji znajduje się na GitHub w <a href="https://github.com/HotMaps">organizacji Hotmaps</a> . Ta organizacja jest właścicielem kilku repozytoriów </p><ul><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-client</a> zawiera frontend naszej aplikacji. Jest to projekt Angular (JavaScript) </li><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-service</a> zawiera API dla naszej aplikacji. Opiera się na Flask (Python) </li><li> <a href="https://github.com/HotMaps/hotmaps_wiki">Hotmaps-wiki</a> to Wiki, którą obecnie czytasz </li><li> <a href="https://github.com/HotMaps/base_calculation_module">Podstawowy moduł obliczeniowy</a> jest podstawowym szablonem, którego można użyć do tworzenia własnych modułów obliczeniowych dla Hotmap </li><li> lista modułów obliczeniowych </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Jak przekazać kod </h2><p> Jeśli chcesz dodać kod do Hotmap, masz dwie możliwości: jeśli chcesz bezpośrednio zaktualizować interfejs lub backend, musisz zmodyfikować repozytorium klienta lub usługi w przyborniku. Jeśli chcesz dodać własny moduł obliczeniowy, możesz utworzyć własne repozytorium, postępując zgodnie <a href="https://github.com/HotMaps/base_calculation_module">z readme repozytorium base_calculation_module</a> </p><p> Jeśli chcesz wykonać pewne prace w repozytorium Git, nie pracuj bezpośrednio z gałęzią master. Utwórz nową gałąź z gałęzi programistycznej, wykonaj pracę nad tą gałęzią, a po przetestowaniu funkcji możesz połączyć swoją pracę z gałęzią programistyczną, jak pokazano na poniższym wykresie. </p><p><img alt="git_workflow" src="images/git_workflow.png"/></p><p> Aby przekazać coś do repozytorium Hotmaps, musisz być członkiem zespołu Hotmaps, jeśli nie, nadal możesz wykonać rozwidlenie naszego narzędzia w celu opracowania własnego narzędzia. </p><p> Więcej informacji na temat pracy można znaleźć w tych dokumentach: </p><ul><li> <a href="uploads/Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf">Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CHotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf">Hotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CGitFlow_Guidelines_CREM_2017-02-01.pdf">GitFlow_Guidelines_CREM_2017-02-01.pdf</a> </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Opis infrastruktury IT </h2><p><img alt="ReverseProxy_architecture_latest" src="images/ReverseProxy_architecture_latest.png"/></p><p> Wszystkie usługi i komponenty są używane przez ich własny kontener Docker. Wszystkie te kontenery są zdefiniowane w jednym pliku skomponowania dokera. Powyższy obraz przedstawia architekturę IT Hotmaps. </p><p> Niektóre organizacje partnerskie ograniczyły komunikację tylko do portu 80. Aby uniknąć problemów spowodowanych tym ograniczeniem, utworzono odwrotny serwer proxy. Ten zwrotny serwer proxy oferuje pojedynczy punkt wejścia, a następnie rozsyła żądanie wysłane przez klienta do danej usługi. Odwrotny serwer proxy składa się z trzech elementów: </p><ol><li> Odwrotny serwer proxy: służy jako unikalny punkt wejścia i rozsyła żądania do odpowiednich usług. </li><li> Proxy-gen: jest to usługa, która automatycznie mapuje wszystkie usługi w odwrotnym proxy. Dlatego nie jest konieczne ręczne dodawanie nowej usługi do konfiguracji proxy </li><li> let-encrypt: jest to usługa, która pozwala na korzystanie z protokołu SSL. Jest to konieczne do aktywacji protokołu https. Certyfikaty SSL są podpisane adresem e-mail skonfigurowanym w tej usłudze. </li></ol><p> Istnieją trzy sieci: </p><ul><li> hotmaps_nginx pozwala odwrotnemu proxy komunikować się z interfejsem API, interfejsem użytkownika i geoserver. Pozwala to głównie rozdzielić żądanie do właściwej usługi pomiędzy tymi trzema. </li><li> hotmaps_backend umożliwia komunikację między wszystkimi komponentami backendu: api, frontend, geoserver i bazą danych PostgreSQL. </li><li> hotmaps_cm-net umożliwia komunikację między każdym modułem obliczeniowym a interfejsem API. </li></ul><p> Każdy moduł obliczeniowy ma własny kontener Docker. </p><h3> Uruchom z dokerem </h3><p> Hotmaps wykorzystuje <a href="https://www.docker.com/">Docker</a> oprogramowanie i <a href="https://docs.docker.com/compose/">Docker-Compose</a> narzędzie do zarządzania pojemników. Plik docker-compose.yml zawiera całą konfigurację architektury Docker (konfiguracja kontenerów, sieci, łącza, ...). Umożliwia to uruchamianie kontenerów za pomocą jednego prostego polecenia: </p><pre> <code class="language-shell">docker-compose up</code> </pre><p> <em>Więcej informacji na temat dokowania-tworzenia na stronie Docker: Komponuj <a href="https://docs.docker.com/compose/reference/">odwołanie do wiersza polecenia</a> i <a href="https://docs.docker.com/compose/compose-file/">Utwórz odwołanie do pliku</a> .</em> </p><p> Istnieje tylko jeden kontener, który jest uruchamiany oddzielnie od innych: jest to baza danych, ponieważ musi być cały czas bezczynna. Dlatego nie ma go w pliku konfiguracyjnym skomponowania dokera. </p><h3> Infrastruktura serwerowa </h3><h4> Infrastruktura </h4><p> Na razie serwer jest hostowany w HES-SO w Szwajcarii. Dostępne są 2 maszyny: jedna do programowania (rozwoju i testowania) i jedna do produkcji (rzeczywisty zestaw narzędzi, dostępny na stronie <a href="https://www.hotmaps.eu">www.hotmaps.eu</a> ). </p><p> Obie maszyny mają tę samą specyfikację: </p><ul><li> Procesor: Intel Xeon E5-2680 v4 (8) @ 2,4 GHz) </li><li> RAM: 16 GB </li><li> HDD: 500 GB </li><li> System operacyjny: Ubutnu 16.04 LTS </li></ul><h4> Występ </h4><p> Często przeprowadzamy testy wydajności na serwerze programistycznym, aby zagwarantować pewną liczbę równoczesnych użytkowników. </p><p> Jako przykład poniżej przedstawiono wyniki pierwszej wersji beta w porównaniu z przyszłymi testami wersji. Nowa wersja zawiera pewne ulepszenia wydajności. </p><p> <em>Ten przykład pokazuje testy wydajności współbieżnych użytkowników korzystających z tej samej funkcji: „krzywa czasu trwania dla wyboru hektara”. Pogrubiona linia pokazuje limit, w którym serwer zaczyna zgłaszać błędy. Dobór hektarów jest dobrym przykładem, ponieważ pokazuje zapytania wymagające największej ilości zasobów.</em> </p><p> <strong>Wersja beta marca 2019 r</strong> </p><p> | Liczba symulowanych użytkowników | Średni czas | Mediana | Maksymalny czas | Min czas | Odsetek błędów | | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 2936 | 2936 | 2936 | 2936 | 0 | | 20 | 9329 | 9503 | 11778 | 6901 | 0 | | 50 | 22922 | 22713 | 33401 | 8661 | 0 | | <strong>100</strong> | 33302 | 32875 | 58257 | 4929 | <strong>16</strong> | | 200 | na | na | na | na | na | | 300 | na | na | na | na | na | </p><p> <strong>Przyszłe wydanie na DEV (marzec 2019)</strong> </p><p> | Liczba symulowanych użytkowników | Średni czas | Mediana | Maksymalny czas | Min czas | Odsetek błędów | | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 1802 | 1802 | 1802 | 1802 | 0 | | 20 | 5289 | 2677 | 6873 | 2149 | 0 | | 50 | 10775 | 11274 | 17081 | 2577 | 0 | | 100 | 19807 | 20280 | 35142 | 3156 | 0 | | 200 | 37302 | 37575 | 69930 | 3381 | 0 | | <strong>300</strong> | 49091 | 57536 | 83578 | 2447 | <strong>26</strong> | </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Jak zdefiniować wskaźniki </h2><p> <a href="indicator_readme">Definicja wskaźnika</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Bibliografia </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Jak cytować </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Autorzy i recenzenci </h2><p> Autorski: </p><ul><li> Daniel Hunacek </li><li> Lucien Zuber </li><li> Matthieu Dayer </li></ul><p> Recenzenci: </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Potwierdzenie </h2><p> Chcielibyśmy przekazać nasze najgłębsze uznanie dla <a href="https://www.hotmaps-project.eu">projektu „Hotmaps”</a> programu „Horyzont 2020 <a href="https://www.hotmaps-project.eu">”</a> (umowa o udzielenie dotacji nr 723677), który zapewnił środki finansowe na przeprowadzenie obecnego dochodzenia </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2></h2>

This page was automatically translated. View in another language:

[English](en-Developers) (pl-original) [Bulgarian](bg-Developers)<sup>\*</sup> [Croatian](hr-Developers)<sup>\*</sup> [Czech](cs-Developers)<sup>\*</sup> [Danish](da-Developers)<sup>\*</sup> [Dutch](nl-Developers)<sup>\*</sup> [Estonian](et-Developers)<sup>\*</sup> [Finnish](fi-Developers)<sup>\*</sup> [French](fr-Developers)<sup>\*</sup> [German](de-Developers)<sup>\*</sup> [Greek](el-Developers)<sup>\*</sup> [Hungarian](hu-Developers)<sup>\*</sup> [Irish](ga-Developers)<sup>\*</sup> [Italian](it-Developers)<sup>\*</sup> [Latvian](lv-Developers)<sup>\*</sup> [Lithuanian](lt-Developers)<sup>\*</sup> [Maltese](mt-Developers)<sup>\*</sup>  [Portuguese (Portugal, Brazil)](pt-Developers)<sup>\*</sup> [Romanian](ro-Developers)<sup>\*</sup> [Slovak](sk-Developers)<sup>\*</sup> [Slovenian](sl-Developers)<sup>\*</sup> [Spanish](es-Developers)<sup>\*</sup> [Swedish](sv-Developers)<sup>\*</sup> 

<sup>\*</sup>: machine translated
