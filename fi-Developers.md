<h2> Sisällysluettelo </h2><ul><li> <a href="#Introduction">esittely</a> </li><li> <a href="#Dataset-integration">Tietojoukkojen integrointi</a> </li><li> <a href="#add-your-datasets-on-gitlab">Lisää tietojoukot GitLabiin</a> </li><li> <a href="#List-of-main-repositories">Luettelo päävarastoista</a> </li><li> <a href="#How-to-contribute-code">Kuinka lisätä koodi</a> </li><li> <a href="#Description-of-IT-infrastructure">Kuvaus IT-infrastruktuurista</a> <ul><li> <a href="#Run-with-Docker">Suorita Dockerin kanssa</a> </li><li> <a href="#Server-infrastructure">Palvelininfrastruktuuri</a> <ul><li> <a href="#Infrastructure">infrastruktuuri</a> </li><li> <a href="#Performance">Esitys</a> </li></ul></li></ul></li><li> <a href="#How-to-define-indicators">Kuinka määritellä indikaattorit</a> </li><li> <a href="#References">Viitteet</a> </li><li> <a href="#How-to-cite">Kuinka lainata</a> </li><li> <a href="#Authors-and-reviewers">Tekijät ja arvioijat</a> </li><li> <a href="#Acknowledgement">tunnustus</a> </li></ul><h2> esittely </h2><p> Tämä sivu sisältää kaikki tiedot, joita kehittäjät tarvitsevat osallistuakseen Hotmaps-alustaan tai ymmärtääkseen sen toimintaa. </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Tietojoukkojen integrointi </h2><p> Uusien julkisten tietoaineistojen integrointi tapahtuu seuraavasti: </p><ol><li> tietojoukot on työnnettävä git-arkistoon ( <a href="#Add-your-datasets-on-GitLab">Lisää tietojoukot GitLabiin</a> ) </li><li> joka ilta komentosarja integroi uudet / päivitetyt tietojoukot DEV-alustaan </li><li> Jos kaikki toimi hyvin, tietojoukko on nyt saatavana DEV-alustalla ja kehittäjät voivat integroida sen koodiinsa </li><li> Kun koodaus on valmis, uudet ominaisuudet lisätään tuotantoalustaan uuden julkaisun kautta </li></ol><p><img alt="tietojen integrointi" src="images/data-integration-workflow.png"/></p><p> Jos tietojoukko epäonnistuu integraation aikana, ongelma luodaan Taigalle (fi-projektinhallintaympäristö). Aihe osoittaa esiintyneen virheen, ja kehittäjän tulisi korjata se ja siirtää työnsä uudelleen Gitille, jotta käsikirjoitus voi yrittää integroida sen uudelleen seuraavana iltana. </p><p> Integrointikoodin lähdekoodi on saatavana tällä linkillä: <a href="https://github.com/HotMaps/CI_DatasetIntegration">Tietojen integrointi</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Lisää tietojoukot GitLabiin </h2><p> Jos haluat lisätä tietojoukkoja julkisten tietoaineistojen luetteloon, ne on siirrettävä uuteen Git-arkistoon GitLabissa. Tässä on GitLab-organisaatio, johon tietojoukot tulisi siirtää: <a href="https://gitlab.com/hotmaps">GitLabin tietoaineistot</a> . </p><p> Kerran päivässä arkistot tarkistetaan uusien sitoumusten löytämiseksi ja integroidaan, jos on. Integrointiprosessi tarkistaa, onko data eritelmän mukainen vai ei. </p><p> Tässä on erittely: <a href="uploads%5CHotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf">Hotmaps_Data-upload-on-Gitlab_2017-12-04_V4.pdf</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Luettelo päävarastoista </h2><p> Sovelluksen koodi sijaitsee GitHubissa <a href="https://github.com/HotMaps">Hotmaps-organisaation alla</a> . Tämä organisaatio omistaa useita arkistoja </p><ul><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-client</a> sisältää sovelluksemme <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">etusivun</a> . Se on kulmikas projekti (JavaScript) </li><li> <a href="https://github.com/HotMaps/Hotmaps-toolbox-service">Hotmaps-toolbox-service</a> sisältää sovellusliittymämme. Se perustuu pulloon (Python) </li><li> <a href="https://github.com/HotMaps/hotmaps_wiki">Hotmaps-wiki</a> on Wiki, jota parhaillaan luet </li><li> <a href="https://github.com/HotMaps/base_calculation_module">perusta-laskenta-moduuli</a> on perusmalli, jonka avulla voit luoda omia laskentamoduuleja Hotmapeille </li><li> luettelo laskentamoduuleista </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Kuinka lisätä koodi </h2><p> Jos haluat lisätä koodin Hotmaps-tiedostoihin, sinulla on kaksi mahdollisuutta: jos haluat päivittää käyttöliittymän tai taustan suoraan, sinun on muokattava työkalupakin asiakas- tai palveluvarastoa. Jos haluat lisätä oman laskentamoduulin, voit luoda oman arkistosi seuraamalla <a href="https://github.com/HotMaps/base_calculation_module">base_calculation_module-arkiston readmea</a> </p><p> Jos haluat suorittaa joitain töitä Git-arkistossa, älä työskentele suoraan päähaaran kanssa. Luo uusi haara kehityshaarasta, tee työtä tällä haaralla ja kun ominaisuus on testattu, voit yhdistää työsi kehityshaaraan seuraavan kaavion osoittamalla tavalla. </p><p><img alt="git_workflow" src="images/git_workflow.png"/></p><p> Jotta työntää jotain Hotmaps-arkistoon, sinun on oltava Hotmaps-tiimin jäsen, jos et ole, voit silti suorittaa työkalumme haarukan kehittääksesi oman työkalusi. </p><p> Löydät lisätietoja työskentelystä näistä asiakirjoista: </p><ul><li> <a href="uploads/Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf">Hotmaps_python_best_practices_tutorial_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CHotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf">Hotmaps_Testing_in_python_tutorial_pytest_2017-08-07_v01.pdf</a> </li><li> <a href="uploads%5CGitFlow_Guidelines_CREM_2017-02-01.pdf">GitFlow_Guidelines_CREM_2017-02-01.pdf</a> </li></ul><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Kuvaus IT-infrastruktuurista </h2><p><img alt="ReverseProxy_architecture_latest" src="images/ReverseProxy_architecture_latest.png"/></p><p> Kaikkia palveluita ja komponentteja käytetään oman Docker-säilön kautta. Kaikki nämä säilöt on määritetty yhdeksi telakointilaitteiden tiedostoksi. Yllä oleva kuva edustaa Hotmapsin IT-arkkitehtuuria. </p><p> Jotkut kumppaniorganisaatiot rajoittivat viestintää vain porttiin 80. Tämän rajoituksen aiheuttamien ongelmien välttämiseksi tehtiin käänteinen välityspalvelin. Tämä käänteinen välityspalvelin tarjoaa yhden tulopisteen ja jakaa sitten asiakkaan lähettämän pyynnön kyseiselle palvelulle. Käänteinen välityspalvelin koostuu kolmesta komponentista: </p><ol><li> Käänteinen välityspalvelin: se toimii ainutlaatuisena lähtökohtana ja jakaa pyynnöt oikeille palveluille. </li><li> Proxy-gen: se on palvelu, joka kartoittaa automaattisesti kaikki palvelut käänteisessä välityspalvelimessa. Siksi ei ole tarpeen lisätä uutta palvelua manuaalisesti välityspalvelimen kokoonpanoon </li><li> lets-encrypt: se on palvelu, joka sallii SSL-protokollan käytön. Se on välttämätön https-protokollan aktivoimiseksi. SSL-varmenteet allekirjoitetaan sähköpostiosoitteella, joka on määritetty tähän palveluun. </li></ol><p> Kolme verkostoa on olemassa: </p><ul><li> hotmaps_nginx sallii käänteisen välityspalvelimen olla yhteydessä apin, käyttöliittymän ja geopalvelimen kanssa. Se antaa pääasiassa jakaa pyynnön oikealle palvelulle kolmen kesken. </li><li> hotmaps_backend mahdollistaa yhteyden taustan kaikkien komponenttien välillä: api, frontend, geoserver ja PostgreSQL-tietokanta. </li><li> hotmaps_cm-net mahdollistaa viestinnän kunkin laskentamoduulin ja apin välillä. </li></ul><p> Jokaisella laskentamoduulilla on oma Docker-säilö. </p><h3> Suorita Dockerin kanssa </h3><p> Hotmaps käyttää <a href="https://www.docker.com/">Docker-</a> ohjelmistoa ja <a href="https://docs.docker.com/compose/">Docker-Compose</a> -työkalua konttien hallintaan. Docker-compose.yml-tiedosto sisältää koko Docker-arkkitehtuurin kokoonpanon (säiliöiden, verkkojen, linkkien kokoonpanot). Tämä mahdollistaa konttien ajamisen yhdellä yksinkertaisella komennolla: </p><pre> <code class="language-shell">docker-compose up</code> </pre><p> <em>Docker-compose on enemmän Dockerin verkkosivustossa: <a href="https://docs.docker.com/compose/reference/">Comput-komentoriviviittaus</a> ja <a href="https://docs.docker.com/compose/compose-file/">Compose file reference</a> .</em> </p><p> On vain yksi säilö, jota käytetään erikseen muista: se on tietokanta, koska sen on pysyttävä koko ajan. Siksi sitä ei ole docker-compose -määritystiedostossa. </p><h3> Palvelininfrastruktuuri </h3><h4> infrastruktuuri </h4><p> Toistaiseksi palvelinta ylläpidetään HES-SO: ssa Sveitsissä. Saatavana on 2 konetta: yksi kehitykseen (kehittäminen ja testaaminen) ja toinen tuotantoon (varsinainen työkalupakki, saatavana osoitteesta <a href="https://www.hotmaps.eu">www.hotmaps.eu</a> ). </p><p> Molemmilla koneilla on sama määritelmä: </p><ul><li> Suoritin: Intel Xeon E5-2680 v4 (8) @ 2,4 GHz) </li><li> RAM: 16 Gt </li><li> Kiintolevy: 500 Gt </li><li> Käyttöjärjestelmä: Ubutnu 16.04 LTS </li></ul><h4> Esitys </h4><p> Suoritamme usein suoritustestejä kehityspalvelimella tietyn määrän samanaikaisten käyttäjien takaamiseksi. </p><p> Alla on esimerkkejä ensimmäisen beetaversion tuloksista verrattuna tulevaisuuden julkaisutestiihin. Uusi julkaisu sisältää joitain suorituskyvyn parannuksia. </p><p> <em>Tämä esimerkki näyttää samanaikaisten käyttäjien suoritustasot, jotka käyttävät samaa toimintoa: &quot;hehtaarivalinnan kestokäyrä&quot;. Lihavoitu viiva näyttää rajan, jossa palvelin alkaa lisätä virheitä. Hehtaarivalinta on hyvä esimerkki, koska se näyttää eniten resursseja vaativat kyselyt.</em> </p><p> <strong>Beetajulkaisu maaliskuuta 2019</strong> </p><p> | Simuloitujen käyttäjien Nb Keskimääräinen aika | Mediaani | Enimmäisaika | Min aika | Prosenttiosuus virheistä | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 2936 | 2936 | 2936 | 2936 | 0 | | 20 | 9329 | 9503 | 11778 | 6901 | 0 | | 50 | 22922 | 22713 | 33401 | 8661 | 0 | | <strong>100</strong> | 33302 | 32875 | 58257 | 4929 | <strong>16</strong> | | 200 | ei | ei | ei | ei | ei | | 300 | ei | ei | ei | ei | ei | </p><p> <strong>Tuleva julkaisu DEV: llä (maaliskuu 2019)</strong> </p><p> | Simuloitujen käyttäjien Nb Keskimääräinen aika | Mediaani | Enimmäisaika | Min aika | Prosenttiosuus virheistä | --------------------- | ------------ | ------ | -------- | -------- | -------------------- | | 1 | 1802 | 1802 | 1802 | 1802 | 0 | | 20 | 5289 | 2677 | 6873 | 2149 | 0 | | 50 | 10775 | 11274 | 17081 | 2577 | 0 | | 100 | 19807 | 20280 | 35142 | 3156 | 0 | | 200 | 37302 | 37575 | 69930 | 3381 | 0 | | <strong>300</strong> | 49091 | 57536 | 83578 | 2447 | <strong>26</strong> | </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Kuinka määritellä indikaattorit </h2><p> <a href="indicator_readme">Indikaattorin määritelmä</a> </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Viitteet </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Kuinka lainata </h2><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> Tekijät ja arvioijat </h2><p> Tekijät: </p><ul><li> Daniel Hunacek </li><li> Lucien Zuber </li><li> Matthieu Dayer </li></ul><p> arvioijat: </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2> tunnustus </h2><p> Haluamme ilmaista syvimmän arvion Horizon 2020 <a href="https://www.hotmaps-project.eu">Hotmaps -hankkeelle</a> (avustussopimus nro 723677), joka rahoitti tämän tutkimuksen toteuttamista </p><p><ins> <code><strong><a href="#table-of-contents">To Top</a></strong></code> </ins> </p><h2></h2>

This page was automatically translated. View in another language:

[English](en-Developers) (original) [Bulgarian](bg-Developers)<sup>\*</sup> [Croatian](hr-Developers)<sup>\*</sup> [Czech](cs-Developers)<sup>\*</sup> [Danish](da-Developers)<sup>\*</sup> [Dutch](nl-Developers)<sup>\*</sup> [Estonian](et-Developers)<sup>\*</sup>  [French](fr-Developers)<sup>\*</sup> [German](de-Developers)<sup>\*</sup> [Greek](el-Developers)<sup>\*</sup> [Hungarian](hu-Developers)<sup>\*</sup> [Irish](ga-Developers)<sup>\*</sup> [Italian](it-Developers)<sup>\*</sup> [Latvian](lv-Developers)<sup>\*</sup> [Lithuanian](lt-Developers)<sup>\*</sup> [Maltese](mt-Developers)<sup>\*</sup> [Polish](pl-Developers)<sup>\*</sup> [Portuguese (Portugal, Brazil)](pt-Developers)<sup>\*</sup> [Romanian](ro-Developers)<sup>\*</sup> [Slovak](sk-Developers)<sup>\*</sup> [Slovenian](sl-Developers)<sup>\*</sup> [Spanish](es-Developers)<sup>\*</sup> [Swedish](sv-Developers)<sup>\*</sup> 

<sup>\*</sup>: machine translated
